<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Apr 30, 2011 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Subversion Authentication Parser Module - Supported Features</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
      <meta name="author" content="Karl Heinz Marbaise" />
    <meta name="Date-Revision-yyyymmdd" content="20110430" />
    <meta http-equiv="Content-Language" content="en" />
        
  </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                Subversion Authentication Parse Module
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2011-04-30</span>
                  &nbsp;| <span id="projectVersion">Version: 0.5-SNAPSHOT</span>
                      </div>
            <div class="xright">        
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
                          <a href="examples.html" title="Examples">Examples</a>
            </li>
                  <li class="none">
                          <a href="load.html" title="Load File">Load File</a>
            </li>
                  <li class="none">
            <strong>Features</strong>
          </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                                            <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                                                                                                                        <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <!--  --><!-- The Subversion Authentication Parse Module (SAPM for short). --><!--  --><!-- Copyright (c) 2010, 2011 by SoftwareEntwicklung Beratung Schulung (SoEBeS) --><!-- Copyright (c) 2010, 2011 by Karl Heinz Marbaise --><!--  --><!-- Licensed to the Apache Software Foundation (ASF) under one or more --><!-- contributor license agreements.  See the NOTICE file distributed with --><!-- this work for additional information regarding copyright ownership. --><!-- The ASF licenses this file to You under the Apache License, Version 2.0 --><!-- (the "License"); you may not use this file except in compliance with --><!-- the License.  You may obtain a copy of the License at --><!--  --><!-- http://www.apache.org/licenses/LICENSE-2.0 --><!--  --><!-- Unless required by applicable law or agreed to in writing, software --><!-- distributed under the License is distributed on an "AS IS" BASIS, --><!-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. --><!-- See the License for the specific language governing permissions and --><!-- limitations under the License. --><div class="section"><h2>Supported Features<a name="Supported_Features"></a></h2><div class="section"><h3>Supported Permissions<a name="Supported_Permissions"></a></h3><ul><li>NOTHING<ul><li>This is equal to the expression <b>user =</b></li></ul></li><li>READ<ul><li>This is equal to the expression <b>user = r</b></li></ul></li><li>READ/WRITE<ul><li>This is equal to the expression <b>user = rw</b></li></ul><p>A write permission alone is not supported, cause it does not make sense in relationship with <a class="externalLink" href="http://subversion.apache.org">Subversion</a>.</p></li></ul></div><div class="section"><h3>Global Rule<a name="Global_Rule"></a></h3><p>The global rule can be used like the following to define anybody with a particular permission. In this case anybody is represented by the <b>*</b>.</p><div class="source"><pre>[/]
* = r</pre></div></div><div class="section"><h3>User permission<a name="User_permission"></a></h3><p>A permission for a particular area of the repository can be defined for a special user like the following:</p><div class="source"><pre>[calc:/path/to/]
username_a = rw
username_b = r</pre></div><p>Based on the above example the <tt>username_a</tt> has <i>read/write</i> permission to the path <b>/path/to</b> in the repository <b>calc</b> whereas the <tt>username_b</tt> has only <i>read</i> permission</p></div><div class="section"><h3>Aliases<a name="Aliases"></a></h3><p>The alias is a way to define a complicate user name which can be used to simplify the maintenance of the access file.</p><div class="source"><pre>[aliases]
harry = CN=Harold Hacker,OU=Engineers,DC=red-bean,DC=com
sally = CN=Sally Swatterbug,OU=Engineers,DC=red-bean,DC=com
joe = CN=Gerald I. Joseph,OU=Engineers,DC=red-bean,DC=com

[groups]
calc-developers = &amp;harry, &amp;sally, &amp;joe
paint-developers = &amp;frank, &amp;sally, &amp;jane
everyone = @calc-developers, @paint-developers</pre></div></div><div class="section"><h3>Groups<a name="Groups"></a></h3><p>In <a class="externalLink" href="http://svnbook.red-bean.com/nightly/en/svn-book.html#svn.serverconfig.pathbasedauthz">Subversion authentication file</a> as well as in SAPM you can define a Group which contains users, groups and alias as well. This means it's possible to define a Group of Groups like in the following example:</p><div class="source"><pre>[groups]
project-a = harry, brian
project-b = michael, sally
project-c = jonas
all-developer = @project-a, @project-b, @project-c</pre></div><p>The defined groups can be used to grant permission to the repository and/or paths instead of particular users.</p><div class="source"><pre>[repo1:/project-a/]
@project-a = rw
[repo1:/project-b/]
@project-b = rw
[repo1:/project-c/]
@project-c = rw</pre></div></div><div class="section"><h3>Tokens<a name="Tokens"></a></h3><p>There existing two special tokens <tt>$authenticated</tt> and <tt>$anonymous</tt> which represent an authenticated user (has a username) or a unauthorized user (no user name).</p></div><div class="section"><h3>Exclusion Marker<a name="Exclusion_Marker"></a></h3><p>The exclusion marker <tt>~</tt> is used to invert the meaning of a permission rule.</p><div class="source"><pre>[groups]
calc-developers = harry, sally, joe
calc-owners = hewlett, packard
calc = @calc-developers, @calc-owners

# Any calc participant has read-write access...
[calc:/projects/calc]
@calc = rw

# ...but only allow the owners to make and modify release tags.
[calc:/projects/calc/tags]
~@calc-owners = r</pre></div><p>This means that all users who don't match the rule <tt>@calc-owner</tt> will get <i>read</i> permission for this area.</p><p>The above configuration file can be expressed by the following code for permissions definition:</p><div class="source"><pre>AccessRules accessRules = new AccessRules();

User userHarry = UserFactory.createInstance(&quot;harry&quot;);
User userSally = UserFactory.createInstance(&quot;sally&quot;);
User userJoe = UserFactory.createInstance(&quot;joe&quot;);
User userHewlett = UserFactory.createInstance(&quot;hewlett&quot;);
User userPackard = UserFactory.createInstance(&quot;packard&quot;);


Group calcDevelopers = new Group(&quot;calc-developers&quot;);
// @calc-developers = harry, sally, joe
calcDevelopers.add(userHarry);
calcDevelopers.add(userSally);
calcDevelopers.add(userJoe);

Group calcOwners = new Group(&quot;calc-owners&quot;);
// @calc-owners = hewlett, packard
calcOwners.add(userHewlett);
calcOwners.add(userPackard);

// calc = @calc-developers, @calc-owners
Group calc = new Group(&quot;calc&quot;);
calc.add(calcDevelopers);
calc.add(calcOwners);

// [calc:/projects/calc]
// @calc = rw
AccessRule ar_1 = new AccessRule(&quot;calc&quot;, &quot;/projects/calc/&quot;);
ar_1.add(calc, AccessLevel.READ_WRITE);

// [calc:/projects/calc/tags]
// ~@calc-owners = r
AccessRule ar_2 = new AccessRule(&quot;calc&quot;, &quot;/projects/calc/tags/&quot;);
ar_2.addNegative(calcOwners, AccessLevel.READ);

accessRules.add(ar_1);
accessRules.add(ar_2);</pre></div></div><div class="section"><h3>Order of rules<a name="Order_of_rules"></a></h3><p>Based on the following rule set the user <i>jenny</i> will get a READ permission to the repository <b>calc</b> in the folder <b>/project/</b>.</p><div class="source"><pre>[groups]
groupa = jenny, joe, danny
[calc:/project/]
@groupa = rw
jenny = r</pre></div><p>But if we just change the order of the last rule like this:</p><div class="source"><pre>[groups]
groupa = jenny, joe, danny
[calc:/project/]
jenny = r
@groupa = rw</pre></div><p>The user <i>jenny</i> will get a READ/WRITE permission based on the membership to the group <b>groupa</b> instead of READ as before.</p><p>This means the order of the rules counts.</p></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">Copyright &#169;                    2010-2011
                        <a href="http://www.soebes.com">SoftwareEntwicklung Beratung Schulung</a>.
            All Rights Reserved.      
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
